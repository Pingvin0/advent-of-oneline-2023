print(sum([int(f"{i[0][1]}{i[-1][1]}") for i in [sorted([[i, digit]  for digit in [1,2,3,4,5,6,7,8,9] if len(line[digit]) > 0 for i in line[digit]], key=lambda x: x[0]) for line in [{{"one": 1, "two": 2, "three": 3, "four": 4, "five": 5, "six": 6, "seven": 7, "eight": 8, "nine": 9}[digit]: [ind for ind in range(len(i)) if digit in i and i.startswith(digit, ind)] + [n_ind for n_ind in range(len(i)) if i[n_ind] == str({"one": 1, "two": 2, "three": 3, "four": 4, "five": 5, "six": 6, "seven": 7, "eight": 8, "nine": 9}[digit])] for digit in ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine"]} for i in [i.strip() for i in open("input.txt", "r").read().splitlines()]]]]))