print(sum([game[0] for game in [[int(line.split(':')[0].split(' ')[1])] + [dict([[n.split(" ")[1], int(n.split(" ")[0])] for n in f.split(', ')]) for f in [r[1:] if r[0] == " " else r for r in line.split(":")[1][1:].split(";")]] for line in [i.strip() for i in open('input.txt', 'r').read().strip().splitlines()]] if not sum([len([True for color, number in {'red': 12, 'blue': 14, 'green': 13}.items() if info.get(color, 0) > number]) > 0 for info in game[1:]]) > 0]))